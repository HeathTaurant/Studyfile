<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.musunsul29.db.MapperReview">
  
  	<select id="reviewCount" parameterType="int" resultType="int">
  		select count(*) from review where et_pk=#{et_pk}
  	</select>
  	
  	<select id="reviewList" resultType="com.musunsul29.DTOReview" parameterType="int">
  		select * from review where et_pk=#{et_pk}
  	</select>
	
	<insert id="insertReview" parameterType="com.musunsul29.DTOReview">
		insert into review (et_pk, re_date, mem_id, mem_nickname, re_star, re_tmi) values (#{et_pk}, now(), #{mem_id},#{mem_nickname},#{re_star},#{re_tmi})
	</insert>
		
		<update id="updateReview" parameterType="com.musunsul29.DTOReview">
		update review set et_pk = #{et_pk}, re_date = #{re_date}, mem_id = #{mem_id}, mem_nickname = #{mem_nickname}, 
		re_star = #{re_star}, re_like = #{re_like}, re_tmi = #{re_tmi}, re_image = #{re_image} where re_pk = #{re_pk}
	</update>
	
	<delete id="deleteReview" parameterType="int">
	delete from review where re_pk = #{re_pk}
	</delete>
	
	<select id="selectReviewList"  parameterType="String" resultType="com.musunsul29.DTOReview">
	select * from review where mem_id = #{mem_id}
	</select>
	
	
</mapper>